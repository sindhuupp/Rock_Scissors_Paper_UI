<html>
<head>
    <title>Rock scissors paper</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Rock scissors paper</h1>

    <div id = "play" >
       <h2>click on your choice</h2> 
    </div>
    
    <script>
        const play = document.querySelector('#play');
        const div = document.createElement('div');
        div.setAttribute('id', 'selections');
        const button1 = document.createElement('button');
        button1.setAttribute('id','rock');
        const text1= document.createTextNode("Rock");
        button1.appendChild(text1);
        div.appendChild(button1);
        play.appendChild(div);
        const button2 = document.createElement('button');
        button2.setAttribute('id','paper');
        const text2= document.createTextNode("Paper");
        button2.appendChild(text2);
        div.appendChild(button2);
        play.appendChild(div);
        const button3 = document.createElement('button');
        button3.setAttribute('id','scissors');
        const text3= document.createTextNode("Scissors");
        button3.appendChild(text3);
        div.appendChild(button3);
        play.appendChild(div);

        const computerselection = document.createElement('div');
        computerselection.setAttribute('id','cselected');
        computerselection.textContent = "COMPUTER'S SELECTION";
        const blank =document.createElement('div');
        blank.setAttribute('id','blank');
        const cselection= document.createElement('p');
        computerselection.appendChild(blank);
        blank.appendChild(cselection);
        play.appendChild(computerselection);


        
        const div2= document.createElement('div');
        div2.setAttribute('id','scores');
        const div3= document.createElement('div');
        div3.setAttribute('id','yourscore');
        const yourscore = document.createElement('h3');
        yourscore.textContent="YOUR SCORE";
        const div4= document.createElement('div');
        div4.setAttribute('id','computerscore');
        const computerscore = document.createElement('h3');
        computerscore.textContent="COMPUTER SCORE ";
        const yourScore = document.createElement('p');
        const computerScore = document.createElement('p');


        div3.appendChild(yourscore);
        div4.appendChild(computerscore);
        div3.appendChild(yourScore);
        div4.appendChild(computerScore);
        div2.appendChild(div3);
        div2.appendChild(div4);
        play.appendChild(div2);

        const result = document.createElement('div');
        result.setAttribute('id','result');
        const gresult= document.createElement('p');
        result.appendChild(gresult);
        play.appendChild(result);
    
        let playermarks=0;
        let computermarks=0;

        computerScore.textContent= computermarks;
        yourScore.textContent= playermarks;
        
        const buttons = document.querySelectorAll('button');

        buttons.forEach((button) => {
        button.addEventListener('click',()=>
            game(button.id))});       
        
        function computerplay()
        {
            compselect = [ 'rock', 'paper', 'scissors' ];
            return compselect[Math.floor(Math.random() * compselect.length)]
        }
        
        function game(x)
        {        

            let y = computerplay();
            cselection.textContent=  y;
                        
            if ((x == "rock" && y == "paper")||
                (x ==  "paper" && y == "scissors")||
                (x == "scissors" && y == "rock")
                )
                { 
                computermarks= computermarks+1;
                computerScore.textContent= computermarks;
                yourScore.textContent= playermarks;
                gresult.textContent= 'SORRY THIS ROUND COMPUTER WON ';
                }
            else if((x== 'rock' && y== 'rock')||
                    (x== 'paper' && y== 'paper')||
                    (x== 'scissors' && y== 'scissors')
                    )   
                    {
                    gresult.textContent= 'Please play again.It is a tie';
                    }
            else 
                {
                playermarks = playermarks+1;
                computerScore.textContent= computermarks;
                yourScore.textContent= playermarks;
                gresult.textContent= 'YOU WON THIS ROUND';
                }

            if ((playermarks==5||computermarks== 5))
                {
                alert( finalwinner(playermarks,computermarks));
                alert('NEW GAME' );
                playermarks=0;
                computermarks=0;
                y='';
                computerScore.textContent= computermarks;
                yourScore.textContent= playermarks;
                cselection.textContent=  y;
                gresult.textContent='';
                }
        }
        
        function finalwinner(playermarks,computermarks)
            {   
            if(playermarks > computermarks)
            {
            return "FINAL RESULT : HURRAY YOU ARE THE FINAL WINNER ";
            }
            else if(playermarks==computermarks)
            {
            return "FINAL RESULT : YOU TIE WITH COMPUTER";
            }
            else
            {
            return "FINAL RESULT : SORRY YOU LOOSE TO THE COMPUTER";
            }
            }
</script>
</body>
</html>